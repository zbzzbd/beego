function job_assign(){$.ajax({url:"/produce/job/assign",data:$("#job_assign_form").serialize(),type:"post",success:function(e){e&&e.error?($("#job_assign_form").removeClass("success").addClass("error"),$("#job_assign_form #error_message").append("<li>"+e.error+"</li>")):window.location.href="/produce/job/claim"}})}function selectFiles(e){$("#"+e).click()}function setUploadFiles(e,t){for(var r="",n=$(e).prop("files"),i=0,a=n.length;a>i;i++)r+='<label style="line-height: 24px;" class="pr20">'+n[i].name+"</label>";$("#"+t+" .file.text").html(r),n.length>0?$("#"+t).show():$("#"+t).hide()}function clearForm(e){$(e).form("clear"),$(e).submit()}function submitForm(e){$(e).submit()}function getJob(e,t){$.ajax({url:"/search/job",data:{id:e},type:"get",success:function(e){e&&e.error?alert("查询失败："+e.error):t(e)}})}function deleteComplaint(e){$(".ui.modal.delete").modal({closable:!1,onDeny:function(){},onApprove:function(){$.ajax({url:"/job/complaint/del/"+e,type:"get",success:function(e){e&&e.error?alert(e.error):window.location.reload()}})}}).modal("show")}function jobAssign(e,t){$.ajax({url:"/job/assign",data:{id:e,employee_id:$.cookie("uid")},type:"get",success:function(e){e&&e.error?alert("认领错误："+e.error):window.location.reload()}})}function delJobFile(e,t){$.ajax({url:"/job/file/del",data:{id:e},type:"get",success:function(e){e&&e.error?alert("错误："+e.error):window.location.reload()}})}function del_files(e,t){return document.getElementById(t).files&&null!=document.getElementById(t).files[0]&&(size=document.getElementById(t).files[0].size,totalSize>0&&(totalSize-=size)),$(e).parent(".field").remove(),!1}function upload_files(e){document.getElementById("fileToUpload"+i).files?(size=document.getElementById("fileToUpload"+i).files[0].size,totalSize+=size,totalSize>=10485760&&(alert("文件已经大于10MB，请重新选择"),totalSize-=size)):alert("上传文件获取为空")}function delJob(e){$(".ui.modal.delete").modal({closable:!1,onDeny:function(){},onApprove:function(){$.ajax({url:"/job/delete/"+e,type:"get",success:function(e){e&&e.error?alert(e.error):window.location.reload()}})}}).modal("show")}function recoverJob(e){$(".ui.modal.delete").modal({closable:!1,onDeny:function(){},onApprove:function(){$.ajax({url:"/job/recover/"+e,type:"get",success:function(e){e&&e.error?alert(e.error):window.location.reload()}})}}).modal("show")}function login(){$.ajax({url:"/login",data:$("#login_form").serialize(),type:"post",success:function(e){e&&e.error?($("#login_form").removeClass("success").addClass("error"),$("#login_error_msg ul").append("<li>"+e.error+"</li>")):window.location.href="/"}})}function initMenu(){var e=window.location.pathname;e.indexOf("?")>-1&&(e=e.substr(0,e.indexOf("?"))),$(".main-menu .ui.menu .item").each(function(){"/"===e?"/"===$(this).attr("href")&&$(this).addClass("active"):0===e.indexOf($(this).attr("href"))&&"/"!==$(this).attr("href")?$(this).addClass("active"):0===e.indexOf($(this).attr("href-tag"))&&$(this).addClass("active"),0===e.indexOf("/project/edit")&&"/project/list"===$(this).attr("href")&&$(this).addClass("active"),0===e.indexOf("/job/view")&&"/job/progress"===$(this).attr("href")&&$(this).addClass("active")})}function delProject(e){$(".ui.modal.delete").modal({closable:!1,onDeny:function(){},onApprove:function(){$.ajax({url:"/project/del/"+e,type:"get",success:function(e){e&&e.error?alert(e.error):window.location.reload()}})}}).modal("show")}function addRequire(){$(".ui.modal.edit").modal({closable:!1,onDeny:function(){},onApprove:function(){$.ajax({url:"/require/create",data:{name:$("#modal-input").val()},type:"get",success:function(e){e&&e.error?alert(e.error):window.location.reload()}})}}).modal("show")}function editRequire(e){$("#modal-input").val(e),$(".ui.modal.edit").modal({closable:!1,onDeny:function(){},onApprove:function(){$.ajax({url:"/require/edit",data:{name:e,newName:$("#modal-input").val()},type:"get",success:function(e){e&&e.error?alert(e.error):window.location.reload()}})}}).modal("show")}function deleteRequire(e){$(".ui.modal.delete").modal({closable:!1,onDeny:function(){},onApprove:function(){$.ajax({url:"/require/delete",data:{name:e},type:"get",success:function(e){e&&e.error?alert(e.error):window.location.reload()}})}}).modal("show")}function filterRequire(e){var t=$(e).val().toLowerCase();$("#require-list>tr").each(function(){var e=$(this).find(".name").text().toLowerCase();e.indexOf(t)<0?$(this).hide():$(this).show()})}function createUser(){$.ajax({url:"/user/create",data:$(".ui.form.user").serialize(),type:"post",success:function(e){e&&e.error?($(".ui.form.user").removeClass("success").addClass("error"),$(".ui.error.message").html("<ul><li>"+e.error+"</li></ul>")):window.location.href="/user/list"}})}function editUser(){$.ajax({url:"/user/edit/"+$("#user-id").val(),data:$(".ui.form.user-edit").serialize(),type:"post",success:function(e){e&&e.error?($(".ui.form.user").removeClass("success").addClass("error"),$(".ui.error.message").html("<ul><li>"+e.error+"</li></ul>")):window.location.href="/user/list"}})}function deleteUser(e){$(".ui.modal.delete").modal({closable:!1,onDeny:function(){},onApprove:function(){$.ajax({url:"/user/delete/"+e,type:"get",success:function(e){e&&e.error?alert(e.error):window.location.reload()}})}}).modal("show")}function restoreUser(e){$.ajax({url:"/user/restore/"+e,type:"get",success:function(e){e&&e.error?alert(e.error):window.location.reload()}})}function jobValid(){$.ajax({url:"/project/job/valid",data:$("#valid_form").serialize(),type:"post",success:function(e){console.log(e),e&&e.error?($("#valid_form").removeClass("success").addClass("error"),$("#valid_error_msg ul li").remove(),$("#valid_error_msg ul").append("<li>"+e.error+"</li>")):window.location.href="/project/job/valid"}})}!function(e){"function"==typeof define&&define.amd?define(["jquery","jquery-mousewheel","date-functions"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){"use strict";function t(e,t,r){this.date=e,this.desc=t,this.style=r}var r={i18n:{ar:{months:["كانون الثاني","شباط","آذار","نيسان","مايو","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],dayOfWeekShort:["ن","ث","ع","خ","ج","س","ح"],dayOfWeek:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت","الأحد"]},ro:{months:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],dayOfWeekShort:["Du","Lu","Ma","Mi","Jo","Vi","Sâ"],dayOfWeek:["Duminică","Luni","Marţi","Miercuri","Joi","Vineri","Sâmbătă"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeekShort:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],dayOfWeek:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},is:{months:["Janúar","Febrúar","Mars","Apríl","Maí","Júní","Júlí","Ágúst","September","Október","Nóvember","Desember"],dayOfWeekShort:["Sun","Mán","Þrið","Mið","Fim","Fös","Lau"],dayOfWeek:["Sunnudagur","Mánudagur","Þriðjudagur","Miðvikudagur","Fimmtudagur","Föstudagur","Laugardagur"]},bg:{months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],dayOfWeekShort:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота"]},fa:{months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],dayOfWeekShort:["یکشنبه","دوشنبه","سه شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],dayOfWeek:["یک‌شنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنج‌شنبه","جمعه","شنبه","یک‌شنبه"]},ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeekShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"]},uk:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],dayOfWeekShort:["Ндл","Пнд","Втр","Срд","Чтв","Птн","Сбт"],dayOfWeek:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},el:{months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],dayOfWeekShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],dayOfWeek:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeekShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayOfWeek:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeekShort:["zo","ma","di","wo","do","vr","za"],dayOfWeek:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeekShort:["Paz","Pts","Sal","Çar","Per","Cum","Cts"],dayOfWeek:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeekShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayOfWeek:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeekShort:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],dayOfWeek:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeekShort:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],dayOfWeek:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัส","ศุกร์","เสาร์","อาทิตย์"]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeekShort:["nd","pn","wt","śr","cz","pt","sb"],dayOfWeek:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],dayOfWeek:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeekShort:["일","월","화","수","목","금","토"],dayOfWeek:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayOfWeek:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"]},da:{months:["January","Februar","Marts","April","Maj","Juni","July","August","September","Oktober","November","December"],dayOfWeekShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayOfWeek:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeekShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayOfWeek:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"]},ja:{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeekShort:["日","月","火","水","木","金","土"],dayOfWeek:["日曜","月曜","火曜","水曜","木曜","金曜","土曜"]},vi:{months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayOfWeekShort:["CN","T2","T3","T4","T5","T6","T7"],dayOfWeek:["Chủ nhật","Thứ hai","Thứ ba","Thứ tư","Thứ năm","Thứ sáu","Thứ bảy"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeekShort:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"],dayOfWeek:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"]},cs:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],dayOfWeekShort:["Ne","Po","Út","St","Čt","Pá","So"]},hu:{months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],dayOfWeekShort:["Va","Hé","Ke","Sze","Cs","Pé","Szo"],dayOfWeek:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeekShort:["B","Be","Ça","Ç","Ca","C","Ş"],dayOfWeek:["Bazar","Bazar ertəsi","Çərşənbə axşamı","Çərşənbə","Cümə axşamı","Cümə","Şənbə"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},ca:{months:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeekShort:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],dayOfWeek:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},et:{months:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeekShort:["P","E","T","K","N","R","L"],dayOfWeek:["Pühapäev","Esmaspäev","Teisipäev","Kolmapäev","Neljapäev","Reede","Laupäev"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeekShort:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."],dayOfWeek:["Igandea","Astelehena","Asteartea","Asteazkena","Osteguna","Ostirala","Larunbata"]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeekShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayOfWeek:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"],dayOfWeek:["Domingo","Luns","Martes","Mércores","Xoves","Venres","Sábado"]},hr:{months:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},ko:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeekShort:["일","월","화","수","목","금","토"],dayOfWeek:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},lt:{months:["Sausio","Vasario","Kovo","Balandžio","Gegužės","Birželio","Liepos","Rugpjūčio","Rugsėjo","Spalio","Lapkričio","Gruodžio"],dayOfWeekShort:["Sek","Pir","Ant","Tre","Ket","Pen","Šeš"],dayOfWeek:["Sekmadienis","Pirmadienis","Antradienis","Trečiadienis","Ketvirtadienis","Penktadienis","Šeštadienis"]},lv:{months:["Janvāris","Februāris","Marts","Aprīlis ","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeekShort:["Sv","Pr","Ot","Tr","Ct","Pk","St"],dayOfWeek:["Svētdiena","Pirmdiena","Otrdiena","Trešdiena","Ceturtdiena","Piektdiena","Sestdiena"]},mk:{months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],dayOfWeekShort:["нед","пон","вто","сре","чет","пет","саб"],dayOfWeek:["Недела","Понеделник","Вторник","Среда","Четврток","Петок","Сабота"]},mn:{months:["1-р сар","2-р сар","3-р сар","4-р сар","5-р сар","6-р сар","7-р сар","8-р сар","9-р сар","10-р сар","11-р сар","12-р сар"],dayOfWeekShort:["Дав","Мяг","Лха","Пүр","Бсн","Бям","Ням"],dayOfWeek:["Даваа","Мягмар","Лхагва","Пүрэв","Баасан","Бямба","Ням"]},"pt-BR":{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayOfWeek:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},sk:{months:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],dayOfWeekShort:["Ne","Po","Ut","St","Št","Pi","So"],dayOfWeek:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"]},sq:{months:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nëntor","Dhjetor"],dayOfWeekShort:["Die","Hën","Mar","Mër","Enj","Pre","Shtu"],dayOfWeek:["E Diel","E Hënë","E Martē","E Mërkurë","E Enjte","E Premte","E Shtunë"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sre","čet","Pet","Sub"],dayOfWeek:["Nedelja","Ponedeljak","Utorak","Sreda","Četvrtak","Petak","Subota"]},sr:{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],dayOfWeekShort:["нед","пон","уто","сре","чет","пет","суб"],dayOfWeek:["Недеља","Понедељак","Уторак","Среда","Четвртак","Петак","Субота"]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],dayOfWeek:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"]},"zh-TW":{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},zh:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},he:{months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],dayOfWeekShort:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],dayOfWeek:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת","ראשון"]},hy:{months:["Հունվար","Փետրվար","Մարտ","Ապրիլ","Մայիս","Հունիս","Հուլիս","Օգոստոս","Սեպտեմբեր","Հոկտեմբեր","Նոյեմբեր","Դեկտեմբեր"],dayOfWeekShort:["Կի","Երկ","Երք","Չոր","Հնգ","Ուրբ","Շբթ"],dayOfWeek:["Կիրակի","Երկուշաբթի","Երեքշաբթի","Չորեքշաբթի","Հինգշաբթի","Ուրբաթ","Շաբաթ"]},kg:{months:["Үчтүн айы","Бирдин айы","Жалган Куран","Чын Куран","Бугу","Кулжа","Теке","Баш Оона","Аяк Оона","Тогуздун айы","Жетинин айы","Бештин айы"],dayOfWeekShort:["Жек","Дүй","Шей","Шар","Бей","Жум","Ише"],dayOfWeek:["Жекшемб","Дүйшөмб","Шейшемб","Шаршемб","Бейшемби","Жума","Ишенб"]}},value:"",rtl:!1,format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnTimeSelect:!0,closeOnWithoutClick:!0,closeOnInputClick:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,disabledMinTime:!1,disabledMaxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,prevButton:!0,nextButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,monthStart:0,monthEnd:11,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],highlightedDates:[],highlightedPeriods:[],disabledDates:[],disabledWeekDays:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0,showApplyButton:!1},n="en",i="en";e.datetimepicker={setLocale:function(e){i=r.i18n[e]?e:n,Date.monthNames=r.i18n[i].months,Date.dayNames=r.i18n[i].dayOfWeek}},window.getComputedStyle||(window.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var r=/(\-([a-z]){1})/g;return"float"===t&&(t="styleFloat"),r.test(t)&&(t=t.replace(r,function(e,t,r){return r.toUpperCase()})),e.currentStyle[t]||null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var r,n;for(r=t||0,n=this.length;n>r;r+=1)if(this[r]===e)return r;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},e.fn.xdsoftScroller=function(t){return this.each(function(){var r,n,i,a,o,s=e(this),d=function(e){var t,r={x:0,y:0};return"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type||"touchcancel"===e.type?(t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],r.x=t.clientX,r.y=t.clientY):("mousedown"===e.type||"mouseup"===e.type||"mousemove"===e.type||"mouseover"===e.type||"mouseout"===e.type||"mouseenter"===e.type||"mouseleave"===e.type)&&(r.x=e.clientX,r.y=e.clientY),r},u=100,l=!1,c=0,h=0,f=0,m=!1,g=0,p=function(){};return"hide"===t?void s.find(".xdsoft_scrollbar").hide():(e(this).hasClass("xdsoft_scroller_box")||(r=s.children().eq(0),n=s[0].clientHeight,i=r[0].offsetHeight,a=e('<div class="xdsoft_scrollbar"></div>'),o=e('<div class="xdsoft_scroller"></div>'),a.append(o),s.addClass("xdsoft_scroller_box").append(a),p=function(e){var t=d(e).y-c+g;0>t&&(t=0),t+o[0].offsetHeight>f&&(t=f-o[0].offsetHeight),s.trigger("scroll_element.xdsoft_scroller",[u?t/u:0])},o.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",function(r){n||s.trigger("resize_scroll.xdsoft_scroller",[t]),c=d(r).y,g=parseInt(o.css("margin-top"),10),f=a[0].offsetHeight,"mousedown"===r.type?(document&&e(document.body).addClass("xdsoft_noselect"),e([document.body,window]).on("mouseup.xdsoft_scroller",function i(){e([document.body,window]).off("mouseup.xdsoft_scroller",i).off("mousemove.xdsoft_scroller",p).removeClass("xdsoft_noselect")}),e(document.body).on("mousemove.xdsoft_scroller",p)):(m=!0,r.stopPropagation(),r.preventDefault())}).on("touchmove",function(e){m&&(e.preventDefault(),p(e))}).on("touchend touchcancel",function(e){m=!1,g=0}),s.on("scroll_element.xdsoft_scroller",function(e,t){n||s.trigger("resize_scroll.xdsoft_scroller",[t,!0]),t=t>1?1:0>t||isNaN(t)?0:t,o.css("margin-top",u*t),setTimeout(function(){r.css("marginTop",-parseInt((r[0].offsetHeight-n)*t,10))},10)}).on("resize_scroll.xdsoft_scroller",function(e,t,d){var l,c;n=s[0].clientHeight,i=r[0].offsetHeight,l=n/i,c=l*a[0].offsetHeight,l>1?o.hide():(o.show(),o.css("height",parseInt(c>10?c:10,10)),u=a[0].offsetHeight-o[0].offsetHeight,d!==!0&&s.trigger("scroll_element.xdsoft_scroller",[t||Math.abs(parseInt(r.css("marginTop"),10))/(i-n)]))}),s.on("mousewheel",function(e){var t=Math.abs(parseInt(r.css("marginTop"),10));return t-=20*e.deltaY,0>t&&(t=0),s.trigger("scroll_element.xdsoft_scroller",[t/(i-n)]),e.stopPropagation(),!1}),s.on("touchstart",function(e){l=d(e),h=Math.abs(parseInt(r.css("marginTop"),10))}),s.on("touchmove",function(e){if(l){e.preventDefault();var t=d(e);s.trigger("scroll_element.xdsoft_scroller",[(h-(t.y-l.y))/(i-n)])}}),s.on("touchend touchcancel",function(e){l=!1,h=0})),void s.trigger("resize_scroll.xdsoft_scroller",[t]))})},e.fn.datetimepicker=function(n){var a,o,s=48,d=57,u=96,l=105,c=17,h=46,f=13,m=27,g=8,p=37,v=38,y=39,b=40,x=9,k=116,D=65,w=67,T=86,S=90,M=89,O=!1,_=e.isPlainObject(n)||!n?e.extend(!0,{},r,n):e.extend(!0,{},r),C=0,F=function(e){e.on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function t(r){e.is(":disabled")||e.data("xdsoft_datetimepicker")||(clearTimeout(C),C=setTimeout(function(){e.data("xdsoft_datetimepicker")||a(e),e.off("open.xdsoft focusin.xdsoft mousedown.xdsoft",t).trigger("open.xdsoft")},100))})};return a=function(r){function a(){var e,t=!1;return _.startDate?t=A.strToDate(_.startDate):(t=_.value||(r&&r.val&&r.val()?r.val():""),t?t=A.strToDateTime(t):_.defaultDate&&(t=A.strToDateTime(_.defaultDate),_.defaultTime&&(e=A.strtotime(_.defaultTime),t.setHours(e.getHours()),t.setMinutes(e.getMinutes())))),t&&A.isValidDate(t)?$.data("changed",!0):t="",t||0}var o,C,F,j,W,A,$=e('<div class="xdsoft_datetimepicker xdsoft_noselect"></div>'),z=e('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),L=e('<div class="xdsoft_datepicker active"></div>'),P=e('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),N=e('<div class="xdsoft_calendar"></div>'),H=e('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),I=H.find(".xdsoft_time_box").eq(0),Y=e('<div class="xdsoft_time_variant"></div>'),J=e('<button type="button" class="xdsoft_save_selected blue-gradient-button">Save Selected</button>'),E=e('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),R=e('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),q=!1,B=0,V=0;_.id&&$.attr("id",_.id),_.style&&$.attr("style",_.style),_.weeks&&$.addClass("xdsoft_showweeks"),_.rtl&&$.addClass("xdsoft_rtl"),$.addClass("xdsoft_"+_.theme),$.addClass(_.className),P.find(".xdsoft_month span").after(E),P.find(".xdsoft_year span").after(R),P.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",function(t){var r,n,i=e(this).find(".xdsoft_select").eq(0),a=0,o=0,s=i.is(":visible");for(P.find(".xdsoft_select").hide(),A.currentTime&&(a=A.currentTime[e(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),i[s?"hide":"show"](),r=i.find("div.xdsoft_option"),n=0;n<r.length&&r.eq(n).data("value")!==a;n+=1)o+=r[0].offsetHeight;return i.xdsoftScroller(o/(i.children()[0].offsetHeight-i[0].clientHeight)),t.stopPropagation(),!1}),P.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",function(e){e.stopPropagation(),e.preventDefault()}).on("mousedown.xdsoft",".xdsoft_option",function(t){(void 0===A.currentTime||null===A.currentTime)&&(A.currentTime=A.now());var r=A.currentTime.getFullYear();A&&A.currentTime&&A.currentTime[e(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](e(this).data("value")),e(this).parent().parent().hide(),$.trigger("xchange.xdsoft"),_.onChangeMonth&&e.isFunction(_.onChangeMonth)&&_.onChangeMonth.call($,A.currentTime,$.data("input")),r!==A.currentTime.getFullYear()&&e.isFunction(_.onChangeYear)&&_.onChangeYear.call($,A.currentTime,$.data("input"))}),$.setOptions=function(n){var i={},a=function(e){try{if(document.selection&&document.selection.createRange){var t=document.selection.createRange();return t.getBookmark().charCodeAt(2)-2}if(e.setSelectionRange)return e.selectionStart}catch(r){return 0}},o=function(e,t){if(e="string"==typeof e||e instanceof String?document.getElementById(e):e,!e)return!1;if(e.createTextRange){var r=e.createTextRange();return r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",t),r.select(),!0}return e.setSelectionRange?(e.setSelectionRange(t,t),!0):!1},C=function(e,t){var r=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(r).test(t)};_=e.extend(!0,{},_,n),n.allowTimes&&e.isArray(n.allowTimes)&&n.allowTimes.length&&(_.allowTimes=e.extend(!0,[],n.allowTimes)),n.weekends&&e.isArray(n.weekends)&&n.weekends.length&&(_.weekends=e.extend(!0,[],n.weekends)),n.highlightedDates&&e.isArray(n.highlightedDates)&&n.highlightedDates.length&&(e.each(n.highlightedDates,function(r,n){var a,o=e.map(n.split(","),e.trim),s=new t(Date.parseDate(o[0],_.formatDate),o[1],o[2]),d=s.date.dateFormat(_.formatDate);void 0!==i[d]?(a=i[d].desc,a&&a.length&&s.desc&&s.desc.length&&(i[d].desc=a+"\n"+s.desc)):i[d]=s}),_.highlightedDates=e.extend(!0,[],i)),n.highlightedPeriods&&e.isArray(n.highlightedPeriods)&&n.highlightedPeriods.length&&(i=e.extend(!0,[],_.highlightedDates),e.each(n.highlightedPeriods,function(r,n){var a,o,s,d,u,l,c;if(e.isArray(n))a=n[0],o=n[1],s=n[2],c=n[3];else{var h=e.map(n.split(","),e.trim);a=Date.parseDate(h[0],_.formatDate),o=Date.parseDate(h[1],_.formatDate),s=h[2],c=h[3]}for(;o>=a;)d=new t(a,s,c),u=a.dateFormat(_.formatDate),a.setDate(a.getDate()+1),void 0!==i[u]?(l=i[u].desc,l&&l.length&&d.desc&&d.desc.length&&(i[u].desc=l+"\n"+d.desc)):i[u]=d}),_.highlightedDates=e.extend(!0,[],i)),n.disabledDates&&e.isArray(n.disabledDates)&&n.disabledDates.length&&(_.disabledDates=e.extend(!0,[],n.disabledDates)),n.disabledWeekDays&&e.isArray(n.disabledWeekDays)&&n.disabledWeekDays.length&&(_.disabledWeekDays=e.extend(!0,[],n.disabledWeekDays)),!_.open&&!_.opened||_.inline||r.trigger("open.xdsoft"),_.inline&&(q=!0,$.addClass("xdsoft_inline"),r.after($).hide()),_.inverseButton&&(_.next="xdsoft_prev",_.prev="xdsoft_next"),_.datepicker?L.addClass("active"):L.removeClass("active"),_.timepicker?H.addClass("active"):H.removeClass("active"),_.value&&(A.setCurrentTime(_.value),r&&r.val&&r.val(A.str)),isNaN(_.dayOfWeekStart)?_.dayOfWeekStart=0:_.dayOfWeekStart=parseInt(_.dayOfWeekStart,10)%7,_.timepickerScrollbar||I.xdsoftScroller("hide"),_.minDate&&/^[\+\-](.*)$/.test(_.minDate)&&(_.minDate=A.strToDateTime(_.minDate).dateFormat(_.formatDate)),_.maxDate&&/^[\+\-](.*)$/.test(_.maxDate)&&(_.maxDate=A.strToDateTime(_.maxDate).dateFormat(_.formatDate)),J.toggle(_.showApplyButton),P.find(".xdsoft_today_button").css("visibility",_.todayButton?"visible":"hidden"),P.find("."+_.prev).css("visibility",_.prevButton?"visible":"hidden"),P.find("."+_.next).css("visibility",_.nextButton?"visible":"hidden"),_.mask&&(r.off("keydown.xdsoft"),_.mask===!0&&(_.mask=_.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===e.type(_.mask)&&(C(_.mask,r.val())||r.val(_.mask.replace(/[0-9]/g,"_")),r.on("keydown.xdsoft",function(t){var n,i,F=this.value,j=t.which;if(j>=s&&d>=j||j>=u&&l>=j||j===g||j===h){for(n=a(this),i=j!==g&&j!==h?String.fromCharCode(j>=u&&l>=j?j-s:j):"_",j!==g&&j!==h||!n||(n-=1,i="_");/[^0-9_]/.test(_.mask.substr(n,1))&&n<_.mask.length&&n>0;)n+=j===g||j===h?-1:1;if(F=F.substr(0,n)+i+F.substr(n+1),""===e.trim(F))F=_.mask.replace(/[0-9]/g,"_");else if(n===_.mask.length)return t.preventDefault(),!1;for(n+=j===g||j===h?0:1;/[^0-9_]/.test(_.mask.substr(n,1))&&n<_.mask.length&&n>0;)n+=j===g||j===h?-1:1;C(_.mask,F)?(this.value=F,o(this,n)):""===e.trim(F)?this.value=_.mask.replace(/[0-9]/g,"_"):r.trigger("error_input.xdsoft")}else if(-1!==[D,w,T,S,M].indexOf(j)&&O||-1!==[m,v,b,p,y,k,c,x,f].indexOf(j))return!0;return t.preventDefault(),!1}))),_.validateOnBlur&&r.off("blur.xdsoft").on("blur.xdsoft",function(){if(_.allowBlank&&!e.trim(e(this).val()).length)e(this).val(null),
$.data("xdsoft_datetime").empty();else if(Date.parseDate(e(this).val(),_.format))$.data("xdsoft_datetime").setCurrentTime(e(this).val());else{var t=+[e(this).val()[0],e(this).val()[1]].join(""),r=+[e(this).val()[2],e(this).val()[3]].join("");!_.datepicker&&_.timepicker&&t>=0&&24>t&&r>=0&&60>r?e(this).val([t,r].map(function(e){return e>9?e:"0"+e}).join(":")):e(this).val(A.now().dateFormat(_.format)),$.data("xdsoft_datetime").setCurrentTime(e(this).val())}$.trigger("changedatetime.xdsoft")}),_.dayOfWeekStartPrev=0===_.dayOfWeekStart?6:_.dayOfWeekStart-1,$.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},$.data("options",_).on("mousedown.xdsoft",function(e){return e.stopPropagation(),e.preventDefault(),R.hide(),E.hide(),!1}),I.append(Y),I.xdsoftScroller(),$.on("afterOpen.xdsoft",function(){I.xdsoftScroller()}),$.append(L).append(H),_.withoutCopyright!==!0&&$.append(z),L.append(P).append(N).append(J),e(_.parentID).append($),o=function(){var t=this;t.now=function(e){var r,n,i=new Date;return!e&&_.defaultDate&&(r=t.strToDateTime(_.defaultDate),i.setFullYear(r.getFullYear()),i.setMonth(r.getMonth()),i.setDate(r.getDate())),_.yearOffset&&i.setFullYear(i.getFullYear()+_.yearOffset),!e&&_.defaultTime&&(n=t.strtotime(_.defaultTime),i.setHours(n.getHours()),i.setMinutes(n.getMinutes())),i},t.isValidDate=function(e){return"[object Date]"!==Object.prototype.toString.call(e)?!1:!isNaN(e.getTime())},t.setCurrentTime=function(e){t.currentTime="string"==typeof e?t.strToDateTime(e):t.isValidDate(e)?e:t.now(),$.trigger("xchange.xdsoft")},t.empty=function(){t.currentTime=null},t.getCurrentTime=function(e){return t.currentTime},t.nextMonth=function(){(void 0===t.currentTime||null===t.currentTime)&&(t.currentTime=t.now());var r,n=t.currentTime.getMonth()+1;return 12===n&&(t.currentTime.setFullYear(t.currentTime.getFullYear()+1),n=0),r=t.currentTime.getFullYear(),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),n+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(n),_.onChangeMonth&&e.isFunction(_.onChangeMonth)&&_.onChangeMonth.call($,A.currentTime,$.data("input")),r!==t.currentTime.getFullYear()&&e.isFunction(_.onChangeYear)&&_.onChangeYear.call($,A.currentTime,$.data("input")),$.trigger("xchange.xdsoft"),n},t.prevMonth=function(){(void 0===t.currentTime||null===t.currentTime)&&(t.currentTime=t.now());var r=t.currentTime.getMonth()-1;return-1===r&&(t.currentTime.setFullYear(t.currentTime.getFullYear()-1),r=11),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),r+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(r),_.onChangeMonth&&e.isFunction(_.onChangeMonth)&&_.onChangeMonth.call($,A.currentTime,$.data("input")),$.trigger("xchange.xdsoft"),r},t.getWeekOfYear=function(e){var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+t.getDay()+1)/7)},t.strToDateTime=function(e){var r,n,i=[];return e&&e instanceof Date&&t.isValidDate(e)?e:(i=/^(\+|\-)(.*)$/.exec(e),i&&(i[2]=Date.parseDate(i[2],_.formatDate)),i&&i[2]?(r=i[2].getTime()-6e4*i[2].getTimezoneOffset(),n=new Date(t.now(!0).getTime()+parseInt(i[1]+"1",10)*r)):n=e?Date.parseDate(e,_.format):t.now(),t.isValidDate(n)||(n=t.now()),n)},t.strToDate=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var r=e?Date.parseDate(e,_.formatDate):t.now(!0);return t.isValidDate(r)||(r=t.now(!0)),r},t.strtotime=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var r=e?Date.parseDate(e,_.formatTime):t.now(!0);return t.isValidDate(r)||(r=t.now(!0)),r},t.str=function(){return t.currentTime.dateFormat(_.format)},t.currentTime=this.now()},A=new o,J.on("click",function(e){e.preventDefault(),$.data("changed",!0),A.setCurrentTime(a()),r.val(A.str()),$.trigger("close.xdsoft")}),P.find(".xdsoft_today_button").on("mousedown.xdsoft",function(){$.data("changed",!0),A.setCurrentTime(0),$.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){var e,t,n=A.getCurrentTime();n=new Date(n.getFullYear(),n.getMonth(),n.getDate()),e=A.strToDate(_.minDate),e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),e>n||(t=A.strToDate(_.maxDate),t=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n>t||(r.val(A.str()),r.trigger("change"),$.trigger("close.xdsoft")))}),P.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var t=e(this),r=0,n=!1;!function i(e){t.hasClass(_.next)?A.nextMonth():t.hasClass(_.prev)&&A.prevMonth(),_.monthChangeSpinner&&(n||(r=setTimeout(i,e||100)))}(500),e([document.body,window]).on("mouseup.xdsoft",function a(){clearTimeout(r),n=!0,e([document.body,window]).off("mouseup.xdsoft",a)})}),H.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var t=e(this),r=0,n=!1,i=110;!function a(e){var o=I[0].clientHeight,s=Y[0].offsetHeight,d=Math.abs(parseInt(Y.css("marginTop"),10));t.hasClass(_.next)&&s-o-_.timeHeightInTimePicker>=d?Y.css("marginTop","-"+(d+_.timeHeightInTimePicker)+"px"):t.hasClass(_.prev)&&d-_.timeHeightInTimePicker>=0&&Y.css("marginTop","-"+(d-_.timeHeightInTimePicker)+"px"),I.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(Y.css("marginTop"),10)/(s-o))]),i=i>10?10:i-10,n||(r=setTimeout(a,e||i))}(500),e([document.body,window]).on("mouseup.xdsoft",function o(){clearTimeout(r),n=!0,e([document.body,window]).off("mouseup.xdsoft",o)})}),C=0,$.on("xchange.xdsoft",function(t){clearTimeout(C),C=setTimeout(function(){(void 0===A.currentTime||null===A.currentTime)&&(A.currentTime=A.now());for(var t,r,a,o,s,d,u,l,c,h,f="",m=new Date(A.currentTime.getFullYear(),A.currentTime.getMonth(),1,12,0,0),g=0,p=A.now(),v=!1,y=!1,b=[],x=!0,k="",D="";m.getDay()!==_.dayOfWeekStart;)m.setDate(m.getDate()-1);for(f+="<table><thead><tr>",_.weeks&&(f+="<th></th>"),t=0;7>t;t+=1)f+="<th>"+_.i18n[i].dayOfWeekShort[(t+_.dayOfWeekStart)%7]+"</th>";for(f+="</tr></thead>",f+="<tbody>",_.maxDate!==!1&&(v=A.strToDate(_.maxDate),v=new Date(v.getFullYear(),v.getMonth(),v.getDate(),23,59,59,999)),_.minDate!==!1&&(y=A.strToDate(_.minDate),y=new Date(y.getFullYear(),y.getMonth(),y.getDate()));g<A.currentTime.countDaysInMonth()||m.getDay()!==_.dayOfWeekStart||A.currentTime.getMonth()===m.getMonth();)b=[],g+=1,a=m.getDay(),o=m.getDate(),s=m.getFullYear(),d=m.getMonth(),u=A.getWeekOfYear(m),h="",b.push("xdsoft_date"),l=_.beforeShowDay&&e.isFunction(_.beforeShowDay.call)?_.beforeShowDay.call($,m):null,v!==!1&&m>v||y!==!1&&y>m||l&&l[0]===!1?b.push("xdsoft_disabled"):-1!==_.disabledDates.indexOf(m.dateFormat(_.formatDate))?b.push("xdsoft_disabled"):-1!==_.disabledWeekDays.indexOf(a)&&b.push("xdsoft_disabled"),l&&""!==l[1]&&b.push(l[1]),A.currentTime.getMonth()!==d&&b.push("xdsoft_other_month"),(_.defaultSelect||$.data("changed"))&&A.currentTime.dateFormat(_.formatDate)===m.dateFormat(_.formatDate)&&b.push("xdsoft_current"),p.dateFormat(_.formatDate)===m.dateFormat(_.formatDate)&&b.push("xdsoft_today"),(0===m.getDay()||6===m.getDay()||-1!==_.weekends.indexOf(m.dateFormat(_.formatDate)))&&b.push("xdsoft_weekend"),void 0!==_.highlightedDates[m.dateFormat(_.formatDate)]&&(r=_.highlightedDates[m.dateFormat(_.formatDate)],b.push(void 0===r.style?"xdsoft_highlighted_default":r.style),h=void 0===r.desc?"":r.desc),_.beforeShowDay&&e.isFunction(_.beforeShowDay)&&b.push(_.beforeShowDay(m)),x&&(f+="<tr>",x=!1,_.weeks&&(f+="<th>"+u+"</th>")),f+='<td data-date="'+o+'" data-month="'+d+'" data-year="'+s+'" class="xdsoft_date xdsoft_day_of_week'+m.getDay()+" "+b.join(" ")+'" title="'+h+'"><div>'+o+"</div></td>",m.getDay()===_.dayOfWeekStartPrev&&(f+="</tr>",x=!0),m.setDate(o+1);if(f+="</tbody></table>",N.html(f),P.find(".xdsoft_label span").eq(0).text(_.i18n[i].months[A.currentTime.getMonth()]),P.find(".xdsoft_label span").eq(1).text(A.currentTime.getFullYear()),k="",D="",d="",c=function(t,r){var n,i,a=A.now(),o=_.allowTimes&&e.isArray(_.allowTimes)&&_.allowTimes.length;a.setHours(t),t=parseInt(a.getHours(),10),a.setMinutes(r),r=parseInt(a.getMinutes(),10),n=new Date(A.currentTime),n.setHours(t),n.setMinutes(r),b=[],(_.minDateTime!==!1&&_.minDateTime>n||_.maxTime!==!1&&A.strtotime(_.maxTime).getTime()<a.getTime()||_.minTime!==!1&&A.strtotime(_.minTime).getTime()>a.getTime())&&b.push("xdsoft_disabled"),(_.minDateTime!==!1&&_.minDateTime>n||_.disabledMinTime!==!1&&a.getTime()>A.strtotime(_.disabledMinTime).getTime()&&_.disabledMaxTime!==!1&&a.getTime()<A.strtotime(_.disabledMaxTime).getTime())&&b.push("xdsoft_disabled"),i=new Date(A.currentTime),i.setHours(parseInt(A.currentTime.getHours(),10)),o||i.setMinutes(Math[_.roundTime](A.currentTime.getMinutes()/_.step)*_.step),(_.initTime||_.defaultSelect||$.data("changed"))&&i.getHours()===parseInt(t,10)&&(!o&&_.step>59||i.getMinutes()===parseInt(r,10))&&(_.defaultSelect||$.data("changed")?b.push("xdsoft_current"):_.initTime&&b.push("xdsoft_init_time")),parseInt(p.getHours(),10)===parseInt(t,10)&&parseInt(p.getMinutes(),10)===parseInt(r,10)&&b.push("xdsoft_today"),k+='<div class="xdsoft_time '+b.join(" ")+'" data-hour="'+t+'" data-minute="'+r+'">'+a.dateFormat(_.formatTime)+"</div>"},_.allowTimes&&e.isArray(_.allowTimes)&&_.allowTimes.length)for(g=0;g<_.allowTimes.length;g+=1)D=A.strtotime(_.allowTimes[g]).getHours(),d=A.strtotime(_.allowTimes[g]).getMinutes(),c(D,d);else for(g=0,t=0;g<(_.hours12?12:24);g+=1)for(t=0;60>t;t+=_.step)D=(10>g?"0":"")+g,d=(10>t?"0":"")+t,c(D,d);for(Y.html(k),n="",g=0,g=parseInt(_.yearStart,10)+_.yearOffset;g<=parseInt(_.yearEnd,10)+_.yearOffset;g+=1)n+='<div class="xdsoft_option '+(A.currentTime.getFullYear()===g?"xdsoft_current":"")+'" data-value="'+g+'">'+g+"</div>";for(R.children().eq(0).html(n),g=parseInt(_.monthStart,10),n="";g<=parseInt(_.monthEnd,10);g+=1)n+='<div class="xdsoft_option '+(A.currentTime.getMonth()===g?"xdsoft_current":"")+'" data-value="'+g+'">'+_.i18n[i].months[g]+"</div>";E.children().eq(0).html(n),e($).trigger("generate.xdsoft")},10),t.stopPropagation()}).on("afterOpen.xdsoft",function(){if(_.timepicker){var e,t,r,n;Y.find(".xdsoft_current").length?e=".xdsoft_current":Y.find(".xdsoft_init_time").length&&(e=".xdsoft_init_time"),e?(t=I[0].clientHeight,r=Y[0].offsetHeight,n=Y.find(e).index()*_.timeHeightInTimePicker+1,n>r-t&&(n=r-t),I.trigger("scroll_element.xdsoft_scroller",[parseInt(n,10)/(r-t)])):I.trigger("scroll_element.xdsoft_scroller",[0])}}),F=0,N.on("click.xdsoft","td",function(t){t.stopPropagation(),F+=1;var n=e(this),i=A.currentTime;return(void 0===i||null===i)&&(A.currentTime=A.now(),i=A.currentTime),n.hasClass("xdsoft_disabled")?!1:(i.setDate(1),i.setFullYear(n.data("year")),i.setMonth(n.data("month")),i.setDate(n.data("date")),$.trigger("select.xdsoft",[i]),r.val(A.str()),_.onSelectDate&&e.isFunction(_.onSelectDate)&&_.onSelectDate.call($,A.currentTime,$.data("input"),t),$.data("changed",!0),$.trigger("xchange.xdsoft"),$.trigger("changedatetime.xdsoft"),(F>1||_.closeOnDateSelect===!0||_.closeOnDateSelect===!1&&!_.timepicker)&&!_.inline&&$.trigger("close.xdsoft"),void setTimeout(function(){F=0},200))}),Y.on("click.xdsoft","div",function(t){t.stopPropagation();var r=e(this),n=A.currentTime;return(void 0===n||null===n)&&(A.currentTime=A.now(),n=A.currentTime),r.hasClass("xdsoft_disabled")?!1:(n.setHours(r.data("hour")),n.setMinutes(r.data("minute")),$.trigger("select.xdsoft",[n]),$.data("input").val(A.str()),_.onSelectTime&&e.isFunction(_.onSelectTime)&&_.onSelectTime.call($,A.currentTime,$.data("input"),t),$.data("changed",!0),$.trigger("xchange.xdsoft"),$.trigger("changedatetime.xdsoft"),void(_.inline!==!0&&_.closeOnTimeSelect===!0&&$.trigger("close.xdsoft")))}),L.on("mousewheel.xdsoft",function(e){return _.scrollMonth?(e.deltaY<0?A.nextMonth():A.prevMonth(),!1):!0}),r.on("mousewheel.xdsoft",function(e){return _.scrollInput?!_.datepicker&&_.timepicker?(j=Y.find(".xdsoft_current").length?Y.find(".xdsoft_current").eq(0).index():0,j+e.deltaY>=0&&j+e.deltaY<Y.children().length&&(j+=e.deltaY),Y.children().eq(j).length&&Y.children().eq(j).trigger("mousedown"),!1):_.datepicker&&!_.timepicker?(L.trigger(e,[e.deltaY,e.deltaX,e.deltaY]),r.val&&r.val(A.str()),$.trigger("changedatetime.xdsoft"),!1):void 0:!0}),$.on("changedatetime.xdsoft",function(t){if(_.onChangeDateTime&&e.isFunction(_.onChangeDateTime)){var r=$.data("input");_.onChangeDateTime.call($,A.currentTime,r,t),delete _.value,r.trigger("change")}}).on("generate.xdsoft",function(){_.onGenerate&&e.isFunction(_.onGenerate)&&_.onGenerate.call($,A.currentTime,$.data("input")),q&&($.trigger("afterOpen.xdsoft"),q=!1)}).on("click.xdsoft",function(e){e.stopPropagation()}),j=0,W=function(){var t,r=$.data("input").offset(),n=r.top+$.data("input")[0].offsetHeight-1,i=r.left,a="absolute";"rtl"==$.data("input").parent().css("direction")&&(i-=$.outerWidth()-$.data("input").outerWidth()),_.fixed?(n-=e(window).scrollTop(),i-=e(window).scrollLeft(),a="fixed"):(n+$[0].offsetHeight>e(window).height()+e(window).scrollTop()&&(n=r.top-$[0].offsetHeight+1),0>n&&(n=0),i+$[0].offsetWidth>e(window).width()&&(i=e(window).width()-$[0].offsetWidth)),t=$[0];do if(t=t.parentNode,"relative"===window.getComputedStyle(t).getPropertyValue("position")&&e(window).width()>=t.offsetWidth){i-=(e(window).width()-t.offsetWidth)/2;break}while("HTML"!==t.nodeName);$.css({left:i,top:n,position:a})},$.on("open.xdsoft",function(t){var r=!0;_.onShow&&e.isFunction(_.onShow)&&(r=_.onShow.call($,A.currentTime,$.data("input"),t)),r!==!1&&($.show(),W(),e(window).off("resize.xdsoft",W).on("resize.xdsoft",W),_.closeOnWithoutClick&&e([document.body,window]).on("mousedown.xdsoft",function n(){$.trigger("close.xdsoft"),e([document.body,window]).off("mousedown.xdsoft",n)}))}).on("close.xdsoft",function(t){var r=!0;P.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),_.onClose&&e.isFunction(_.onClose)&&(r=_.onClose.call($,A.currentTime,$.data("input"),t)),r===!1||_.opened||_.inline||$.hide(),t.stopPropagation()}).on("toggle.xdsoft",function(e){$.is(":visible")?$.trigger("close.xdsoft"):$.trigger("open.xdsoft")}).data("input",r),B=0,V=0,$.data("xdsoft_datetime",A),$.setOptions(_),A.setCurrentTime(a()),r.data("xdsoft_datetimepicker",$).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function(e){r.is(":disabled")||r.data("xdsoft_datetimepicker").is(":visible")&&_.closeOnInputClick||(clearTimeout(B),B=setTimeout(function(){r.is(":disabled")||(q=!0,A.setCurrentTime(a()),$.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(t){var r,n=(this.value,t.which);return-1!==[f].indexOf(n)&&_.enterLikeTab?(r=e("input:visible,textarea:visible"),$.trigger("close.xdsoft"),r.eq(r.index(this)+1).focus(),!1):-1!==[x].indexOf(n)?($.trigger("close.xdsoft"),!0):void 0})},o=function(t){var r=t.data("xdsoft_datetimepicker");r&&(r.data("xdsoft_datetime",null),r.remove(),t.data("xdsoft_datetimepicker",null).off(".xdsoft"),e(window).off("resize.xdsoft"),e([window,document.body]).off("mousedown.xdsoft"),t.unmousewheel&&t.unmousewheel())},e(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(e){e.keyCode===c&&(O=!0)}).on("keyup.xdsoftctrl",function(e){e.keyCode===c&&(O=!1)}),this.each(function(){var t,r=e(this).data("xdsoft_datetimepicker");if(r){if("string"===e.type(n))switch(n){case"show":e(this).select().focus(),r.trigger("open.xdsoft");break;case"hide":r.trigger("close.xdsoft");break;case"toggle":r.trigger("toggle.xdsoft");break;case"destroy":o(e(this));break;case"reset":this.value=this.defaultValue,this.value&&r.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,_.format))||r.data("changed",!1),r.data("xdsoft_datetime").setCurrentTime(this.value);break;case"validate":t=r.data("input"),t.trigger("blur.xdsoft")}else r.setOptions(n);return 0}"string"!==e.type(n)&&(!_.lazyInit||_.open||_.inline?a(e(this)):F(e(this)))})},e.fn.datetimepicker.defaults=r}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var o=t||window.event,s=d.call(arguments,1),u=0,c=0,h=0,f=0,m=0,g=0;if(t=e.event.fix(o),t.type="mousewheel","detail"in o&&(h=-1*o.detail),"wheelDelta"in o&&(h=o.wheelDelta),"wheelDeltaY"in o&&(h=o.wheelDeltaY),"wheelDeltaX"in o&&(c=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(c=-1*h,h=0),u=0===h?c:h,"deltaY"in o&&(h=-1*o.deltaY,u=h),"deltaX"in o&&(c=o.deltaX,0===h&&(u=-1*c)),0!==h||0!==c){if(1===o.deltaMode){var p=e.data(this,"mousewheel-line-height");u*=p,h*=p,c*=p}else if(2===o.deltaMode){var v=e.data(this,"mousewheel-page-height");u*=v,h*=v,c*=v}if(f=Math.max(Math.abs(h),Math.abs(c)),(!a||a>f)&&(a=f,n(o,f)&&(a/=40)),n(o,f)&&(u/=40,c/=40,h/=40),u=Math[u>=1?"floor":"ceil"](u/a),c=Math[c>=1?"floor":"ceil"](c/a),h=Math[h>=1?"floor":"ceil"](h/a),l.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();m=t.clientX-y.left,g=t.clientY-y.top}return t.deltaX=c,t.deltaY=h,t.deltaFactor=a,t.offsetX=m,t.offsetY=g,t.deltaMode=0,s.unshift(t,u,c,h),i&&clearTimeout(i),i=setTimeout(r,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function r(){a=null}function n(e,t){return l.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var i,a,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],d=Array.prototype.slice;if(e.event.fixHooks)for(var u=o.length;u;)e.event.fixHooks[o[--u]]=e.event.mouseHooks;var l=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var r=s.length;r;)this.addEventListener(s[--r],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",l.getLineHeight(this)),e.data(this,"mousewheel-page-height",l.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var r=s.length;r;)this.removeEventListener(s[--r],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var r=e(t),n=r["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(r.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),!function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e:e()}(function(){"use strict";function e(e){for(var r=[],n=!1,i="",o=0;o<e.length;++o)i=e.charAt(o),n||"\\"!==i?n?(n=!1,r.push(a(i))):r.push(l[i]||a(i)):n=!0;u[e]=t(r)}function t(e){return function(t){for(var r=[],n=0,i=e.length;i>n;n++)r.push("string"==typeof e[n]?e[n]:e[n](t));return r.join("")}}function r(e,t,r){return function(e){var n=new Date,i=e.match(d[t]);if(i&&i.length>0){i.y=n.getFullYear(),i.m=n.getMonth(),i.d=n.getDate(),i.h=-1,i.i=-1,i.s=-1;for(var a=0,o=r.length;o>a;a++)r[a](i);if(i.y>0&&i.m>=0&&i.d>0&&i.h>=0&&i.i>=0&&i.s>=0)return new Date(i.y,i.m,i.d,i.h,i.i,i.s);if(i.y>0&&i.m>=0&&i.d>0&&i.h>=0&&i.i>=0)return new Date(i.y,i.m,i.d,i.h,i.i);if(i.y>0&&i.m>=0&&i.d>0&&i.h>=0)return new Date(i.y,i.m,i.d,i.h);if(i.y>0&&i.m>=0&&i.d>0)return new Date(i.y,i.m,i.d);if(i.y>0&&i.m>=0)return new Date(i.y,i.m);if(i.y>0)return new Date(i.y)}return null}}function n(e){for(var t,n=d.length,o=1,u="",l=!1,c="",h=[],f=0;f<e.length;++f)c=e.charAt(f),l||"\\"!==c?l?(l=!1,u+=a(c)):(t=i(c,o),o+=t.g,u+=t.s,t.g&&t.a&&h.push(t.a)):l=!0;d[n]=new RegExp("^"+u+"$"),s[e]=r(e,n,h)}function i(e,t){switch(e){case"D":return{g:0,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case"j":case"d":return{g:1,a:function(e){e.d=parseInt(e[t],10)},s:"(\\d{1,2})"};case"l":return{g:0,s:"(?:"+Date.dayNames.join("|")+")"};case"S":return{g:0,s:"(?:st|nd|rd|th)"};case"w":return{g:0,s:"\\d"};case"z":return{g:0,s:"(?:\\d{1,3})"};case"W":return{g:0,s:"(?:\\d{2})"};case"F":return{g:1,a:function(e){e.m=parseInt(Date.monthNumbers[e[t].substring(0,3)],10)},s:"("+Date.monthNames.join("|")+")"};case"M":return{g:1,a:function(e){e.m=parseInt(Date.monthNumbers[e[t]],10)},s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case"n":case"m":return{g:1,a:function(e){e.m=parseInt(e[t],10)-1},s:"(\\d{1,2})"};case"t":return{g:0,s:"\\d{1,2}"};case"L":return{g:0,s:"(?:1|0)"};case"Y":return{g:1,a:function(e){e.y=parseInt(e[t],10)},s:"(\\d{4})"};case"y":return{g:1,a:function(e){var r=parseInt(e[t],10);e.y=r>Date.y2kYear?1900+r:2e3+r},s:"(\\d{1,2})"};case"a":return{g:1,a:function(e){"am"===e[t]?12==e.h&&(e.h=0):e.h<12&&(e.h+=12)},s:"(am|pm)"};case"A":return{g:1,a:function(e){"AM"===e[t]?12==e.h&&(e.h=0):e.h<12&&(e.h+=12)},s:"(AM|PM)"};case"g":case"G":case"h":case"H":return{g:1,a:function(e){e.h=parseInt(e[t],10)},s:"(\\d{1,2})"};case"i":return{g:1,a:function(e){e.i=parseInt(e[t],10)},s:"(\\d{2})"};case"s":return{g:1,a:function(e){e.s=parseInt(e[t],10)},s:"(\\d{2})"};case"O":return{g:0,s:"[+-]\\d{4}"};case"T":return{g:0,s:"[A-Z]{3}"};case"Z":return{g:0,s:"[+-]\\d{1,5}"};default:return{g:0,s:a(e)}}}function a(e){return e.replace(/('|\\)/g,"\\$1")}function o(e,t,r){var n=""+e;for(r=""+r||" ";n.length<t;)n=r+n;return n}var s={},d=[],u={},l={d:function(e){return o(e.getDate(),2,"0")},D:function(e){return Date.dayNames[e.getDay()].substring(0,3)},j:function(e){return e.getDate()},l:function(e){return Date.dayNames[e.getDay()]},S:function(e){return e.getSuffix()},w:function(e){return e.getDay()},z:function(e){return e.getDayOfYear()},W:function(e){return e.getWeekOfYear()},F:function(e){return Date.monthNames[e.getMonth()]},m:function(e){return o(e.getMonth()+1,2,"0")},M:function(e){return Date.monthNames[e.getMonth()].substring(0,3)},n:function(e){return e.getMonth()+1},t:function(e){return e.getDaysInMonth()},L:function(e){return e.isLeapYear()?1:0},Y:function(e){return e.getFullYear()},y:function(e){return(""+e.getFullYear()).substring(2,4)},a:function(e){return e.getHours()<12?"am":"pm"},A:function(e){return e.getHours()<12?"AM":"PM"},g:function(e){return e.getHours()%12?e.getHours()%12:12},G:function(e){return e.getHours()},h:function(e){return o(e.getHours()%12?e.getHours()%12:12,2,"0")},H:function(e){return o(e.getHours(),2,"0")},i:function(e){return o(e.getMinutes(),2,"0")},s:function(e){return o(e.getSeconds(),2,"0")},O:function(e){return e.getGMTOffset()},T:function(e){return e.getTimezone()},Z:function(e){return-60*e.getTimezoneOffset()}};Date.prototype.dateFormat=function(t){return u[t]||e(t),u[t](this)},Date.parseDate=function(e,t){return s[t]||n(t),s[t](e)},Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")},Date.prototype.getGMTOffset=function(){return(this.getTimezoneOffset()>0?"-":"+")+o(Math.floor(this.getTimezoneOffset()/60),2,"0")+o(this.getTimezoneOffset()%60,2,"0")},Date.prototype.getDayOfYear=function(){var e=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var t=0;t<this.getMonth();++t)e+=Date.daysInMonth[t];return e+this.getDate()-1},Date.prototype.getWeekOfYear=function(){var e=this.getDayOfYear()+(4-this.getDay()),t=new Date(this.getFullYear(),0,1),r=7-t.getDay()+4;return o((e-r)/7+1,2,"0")},Date.prototype.isLeapYear=function(){var e=this.getFullYear();return!(0!==(3&e)||!(e%100||e%400===0&&e))},Date.prototype.getFirstDayOfMonth=function(){var e=(this.getDay()-(this.getDate()-1))%7;return 0>e?e+7:e},Date.prototype.getLastDayOfMonth=function(){var e=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return 0>e?e+7:e},Date.prototype.getDaysInMonth=function(){return Date.daysInMonth[1]=this.isLeapYear()?29:28,Date.daysInMonth[this.getMonth()]},Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.y2kYear=50,Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var r=e.data(this[0],"validator");return r?r:(this.attr("novalidate","novalidate"),r=new e.validator(t,this[0]),e.data(this[0],"validator",r),r.settings.onsubmit&&(this.on("click.validate",":submit",function(t){r.settings.submitHandler&&(r.submitButton=t.target),e(this).hasClass("cancel")&&(r.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(r.cancelSubmit=!0)}),this.on("submit.validate",function(t){function n(){var n,i;return r.settings.submitHandler?(r.submitButton&&(n=e("<input type='hidden'/>").attr("name",r.submitButton.name).val(e(r.submitButton).val()).appendTo(r.currentForm)),i=r.settings.submitHandler.call(r,r.currentForm,t),r.submitButton&&n.remove(),void 0!==i?i:!1):!0}return r.settings.debug&&t.preventDefault(),r.cancelSubmit?(r.cancelSubmit=!1,n()):r.form()?r.pendingRequest?(r.formSubmitted=!0,!1):n():(r.focusInvalid(),!1)})),r)},valid:function(){var t,r,n;return e(this[0]).is("form")?t=this.validate().form():(n=[],t=!0,r=e(this[0].form).validate(),this.each(function(){t=r.element(this)&&t,n=n.concat(r.errorList)}),r.errorList=n),t},rules:function(t,r){var n,i,a,o,s,d,u=this[0];if(t)switch(n=e.data(u.form,"validator").settings,i=n.rules,a=e.validator.staticRules(u),t){case"add":e.extend(a,e.validator.normalizeRule(r)),delete a.messages,i[u.name]=a,r.messages&&(n.messages[u.name]=e.extend(n.messages[u.name],r.messages));break;case"remove":return r?(d={},e.each(r.split(/\s/),function(t,r){d[r]=a[r],delete a[r],"required"===r&&e(u).removeAttr("aria-required")}),d):(delete i[u.name],a)}return o=e.validator.normalizeRules(e.extend({},e.validator.classRules(u),e.validator.attributeRules(u),e.validator.dataRules(u),e.validator.staticRules(u)),u),o.required&&(s=o.required,delete o.required,o=e.extend({required:s},o),e(u).attr("aria-required","true")),o.remote&&(s=o.remote,delete o.remote,o=e.extend(o,{remote:s})),o}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,r){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=r,this.init()},e.validator.format=function(t,r){return 1===arguments.length?function(){var r=e.makeArray(arguments);return r.unshift(t),e.validator.format.apply(this,r)}:(arguments.length>2&&r.constructor!==Array&&(r=e.makeArray(arguments).slice(1)),r.constructor!==Array&&(r=[r]),e.each(r,function(e,r){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return r})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,r){var n=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===r.which&&""===this.elementValue(t)||-1!==e.inArray(r.keyCode,n)||(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,r,n){"radio"===t.type?this.findByName(t.name).addClass(r).removeClass(n):e(t).addClass(r).removeClass(n)},unhighlight:function(t,r,n){"radio"===t.type?this.findByName(t.name).removeClass(r).addClass(n):e(t).removeClass(r).addClass(n)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"请输入数据。必填。",remote:"请修正此字段。",email:"请输入有效的电子邮件地址。",url:"请输入有效的网址。",date:"请输入有效的日期。",dateISO:"请输入有效的日期 (YYYY-MM-DD)。",number:"请输入有效的数字(含负数，小数) 。",digits:"请输入有效的整数。",creditcard:"请输入有效的信用卡号码。",equalTo:"请再次输入相同的数据.",maxlength:e.validator.format("最多只能输入 {0} 个字符."),minlength:e.validator.format("请输入至少 {0} 个字符"),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("此项可输入最大值为 {0}."),min:e.validator.format("此项可输入最小值为 {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var r=e.data(this.form,"validator"),n="on"+t.type.replace(/^validate/,""),i=r.settings;i[n]&&!e(this).is(i.ignore)&&i[n].call(r,this,t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var r,n=this.groups={};e.each(this.settings.groups,function(t,r){"string"==typeof r&&(r=r.split(/\s/)),e.each(r,function(e,r){n[r]=t})}),r=this.settings.rules,e.each(r,function(t,n){r[t]=e.validator.normalizeRule(n)}),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var r=this.clean(t),n=this.validationTargetFor(r),i=!0;return this.lastElement=n,void 0===n?delete this.invalid[r.name]:(this.prepareElement(n),this.currentElements=e(n),i=this.check(n)!==!1,i?delete this.invalid[n.name]:this.invalid[n.name]=!0),e(t).attr("aria-invalid",!i),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var r in t)this.errorList.push({message:t[r],element:this.findByName(r)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors();var t,r=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight)for(t=0;r[t];t++)this.settings.unhighlight.call(this,r[t],this.settings.errorClass,"");else r.removeClass(this.settings.errorClass)},numberOfInvalids:function(){
return this.objectLength(this.invalid)},objectLength:function(e){var t,r=0;for(t in e)r++;return r},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,r={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in r||!t.objectLength(e(this).rules())?!1:(r[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var r,n=e(t),i=t.type;return"radio"===i||"checkbox"===i?this.findByName(t.name).filter(":checked").val():"number"===i&&"undefined"!=typeof t.validity?t.validity.badInput?!1:n.val():(r=n.val(),"string"==typeof r?r.replace(/\r/g,""):r)},check:function(t){t=this.validationTargetFor(this.clean(t));var r,n,i,a=e(t).rules(),o=e.map(a,function(e,t){return t}).length,s=!1,d=this.elementValue(t);for(n in a){i={method:n,parameters:a[n]};try{if(r=e.validator.methods[n].call(this,d,t,i.parameters),"dependency-mismatch"===r&&1===o){s=!0;continue}if(s=!1,"pending"===r)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!r)return this.formatAndAdd(t,i),!1}catch(u){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+i.method+"' method.",u),u instanceof TypeError&&(u.message+=".  Exception occurred when checking element "+t.id+", check the '"+i.method+"' method."),u}}if(!s)return this.objectLength(a)&&this.successList.push(t),!0},customDataMessage:function(t,r){return e(t).data("msg"+r.charAt(0).toUpperCase()+r.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var r=this.settings.messages[e];return r&&(r.constructor===String?r:r[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,r){return this.findDefined(this.customMessage(t.name,r),this.customDataMessage(t,r),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[r],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,r){var n=this.defaultMessage(t,r.method),i=/\$?\{(\d+)\}/g;"function"==typeof n?n=n.call(this,r.parameters,t):i.test(n)&&(n=e.validator.format(n.replace(i,"{$1}"),r.parameters)),this.errorList.push({message:n,element:t,method:r.method}),this.errorMap[t.name]=n,this.submitted[t.name]=n},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,r;for(e=0;this.errorList[e];e++)r=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,r.element,this.settings.errorClass,this.settings.validClass),this.showLabel(r.element,r.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,r){var n,i,a,o=this.errorsFor(t),s=this.idOrName(t),d=e(t).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(r)):(o=e("<"+this.settings.errorElement+">").attr("id",s+"-error").addClass(this.settings.errorClass).html(r||""),n=o,this.settings.wrapper&&(n=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement(n,e(t)):n.insertAfter(t),o.is("label")?o.attr("for",s):0===o.parents("label[for='"+s+"']").length&&(a=o.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1"),d?d.match(new RegExp("\\b"+a+"\\b"))||(d+=" "+a):d=a,e(t).attr("aria-describedby",d),i=this.groups[t.name],i&&e.each(this.groups,function(t,r){r===i&&e("[name='"+t+"']",this.currentForm).attr("aria-describedby",o.attr("id"))}))),!r&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,t)),this.toShow=this.toShow.add(o)},errorsFor:function(t){var r=this.idOrName(t),n=e(t).attr("aria-describedby"),i="label[for='"+r+"'], label[for='"+r+"'] *";return n&&(i=i+", #"+n.replace(/\s+/g,", #")),this.errors().filter(i)},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,r){switch(r.nodeName.toLowerCase()){case"select":return e("option:selected",r).length;case"input":if(this.checkable(r))return this.findByName(r.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,r){return!!e(t,r.form).length},"function":function(e,t){return e(t)}},optional:function(t){var r=this.elementValue(t);return!e.validator.methods.required.call(this,r,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,r){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],r&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!r&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,r){t.constructor===String?this.classRuleSettings[t]=r:e.extend(this.classRuleSettings,t)},classRules:function(t){var r={},n=e(t).attr("class");return n&&e.each(n.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(r,e.validator.classRuleSettings[this])}),r},normalizeAttributeRule:function(e,t,r,n){/min|max/.test(r)&&(null===t||/number|range|text/.test(t))&&(n=Number(n),isNaN(n)&&(n=void 0)),n||0===n?e[r]=n:t===r&&"range"!==t&&(e[r]=!0)},attributeRules:function(t){var r,n,i={},a=e(t),o=t.getAttribute("type");for(r in e.validator.methods)"required"===r?(n=t.getAttribute(r),""===n&&(n=!0),n=!!n):n=a.attr(r),this.normalizeAttributeRule(i,o,r,n);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(t){var r,n,i={},a=e(t),o=t.getAttribute("type");for(r in e.validator.methods)n=a.data("rule"+r.charAt(0).toUpperCase()+r.substring(1).toLowerCase()),this.normalizeAttributeRule(i,o,r,n);return i},staticRules:function(t){var r={},n=e.data(t.form,"validator");return n.settings.rules&&(r=e.validator.normalizeRule(n.settings.rules[t.name])||{}),r},normalizeRules:function(t,r){return e.each(t,function(n,i){if(i===!1)return void delete t[n];if(i.param||i.depends){var a=!0;switch(typeof i.depends){case"string":a=!!e(i.depends,r.form).length;break;case"function":a=i.depends.call(r,r)}a?t[n]=void 0!==i.param?i.param:!0:delete t[n]}}),e.each(t,function(n,i){t[n]=e.isFunction(i)?i(r):i}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var r;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(r=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(r[0]),Number(r[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var r={};e.each(t.split(/\s/),function(){r[this]=!0}),t=r}return t},addMethod:function(t,r,n){e.validator.methods[t]=r,e.validator.messages[t]=void 0!==n?n:e.validator.messages[t],r.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,r,n){if(!this.depend(n,r))return"dependency-mismatch";if("select"===r.nodeName.toLowerCase()){var i=e(r).val();return i&&i.length>0}return this.checkable(r)?this.getLength(t,r)>0:t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var r,n,i=0,a=0,o=!1;if(e=e.replace(/\D/g,""),e.length<13||e.length>19)return!1;for(r=e.length-1;r>=0;r--)n=e.charAt(r),a=parseInt(n,10),o&&(a*=2)>9&&(a-=9),i+=a,o=!o;return i%10===0},minlength:function(t,r,n){var i=e.isArray(t)?t.length:this.getLength(t,r);return this.optional(r)||i>=n},maxlength:function(t,r,n){var i=e.isArray(t)?t.length:this.getLength(t,r);return this.optional(r)||n>=i},rangelength:function(t,r,n){var i=e.isArray(t)?t.length:this.getLength(t,r);return this.optional(r)||i>=n[0]&&i<=n[1]},min:function(e,t,r){return this.optional(t)||e>=r},max:function(e,t,r){return this.optional(t)||r>=e},range:function(e,t,r){return this.optional(t)||e>=r[0]&&e<=r[1]},equalTo:function(t,r,n){var i=e(n);return this.settings.onfocusout&&i.off(".validate-equalTo").on("blur.validate-equalTo",function(){e(r).valid()}),t===i.val()},remote:function(t,r,n){if(this.optional(r))return"dependency-mismatch";var i,a,o,s=this.previousValue(r);return this.settings.messages[r.name]||(this.settings.messages[r.name]={}),s.originalMessage=this.settings.messages[r.name].remote,this.settings.messages[r.name].remote=s.message,n="string"==typeof n&&{url:n}||n,o=e.param(e.extend({data:t},n.data)),s.old===o?s.valid:(s.old=o,i=this,this.startRequest(r),a={},a[r.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+r.name,dataType:"json",data:a,context:i.currentForm,success:function(n){var a,o,d,u=n===!0||"true"===n;i.settings.messages[r.name].remote=s.originalMessage,u?(d=i.formSubmitted,i.prepareElement(r),i.formSubmitted=d,i.successList.push(r),delete i.invalid[r.name],i.showErrors()):(a={},o=n||i.defaultMessage(r,"remote"),a[r.name]=s.message=e.isFunction(o)?o(t):o,i.invalid[r.name]=!0,i.showErrors(a)),s.valid=u,i.stopRequest(r,u)}},n)),"pending")}}});var t,r={};e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,n){var i=e.port;"abort"===e.mode&&(r[i]&&r[i].abort(),r[i]=n)}):(t=e.ajax,e.ajax=function(n){var i=("mode"in n?n:e.ajaxSettings).mode,a=("port"in n?n:e.ajaxSettings).port;return"abort"===i?(r[a]&&r[a].abort(),r[a]=t.apply(this,arguments),r[a]):t.apply(this,arguments)})}),$(function(){$("#job_assign_form").form({fields:{result:{identifier:"to_user",rules:[{type:"empty",prompt:"转发给谁不能为空"}]}},onSuccess:function(){return job_assign(),!1}})}),$(function(){function e(){$("#employee option").each(function(){$(this).val()&&$(this).remove()})}function t(e){r.each(function(){$("#department  option:selected").attr("tag")&&$(this).attr("tag")&&$(this).attr("tag").indexOf($("#department  option:selected").attr("tag"))>-1&&$("#employee").append($(this)),e?$("#employee").closest(".field").removeClass("disabled"):$("#employee").closest(".field").addClass("disabled")})}var r=$("#employee option");$("#department").dropdown({placeholder:"请选择",onChange:function(r,n,i){e(),t(r)}}),$(".ui.search.dropdown").dropdown({fullTextSearch:!0}),e(),t($("#department option:selected").text()),$("#projectProgress").dropdown({placeholder:"优先级1为最高"}),$("#projectBussiness").dropdown({placeholder:"请选择业务担当"}),$("#projectArt").dropdown({placeholder:"请选择美术单元"}),$("#projectTech").dropdown({placeholder:"请选择技术单元"}),$("select.dropdown").dropdown({placeholder:"请选择"}),$(".datetimepicker").datetimepicker({format:"Y-m-d H:i",step:5}),$.datetimepicker.setLocale("zh"),$(".datetimepicker").datetimepicker({format:"Y-m-d H:i",step:5})}());var totalSize=0,i=0;$(function(){$("#add_files").click(function(){i+=1,s="fileToUpload"+i;var e=$('<div class="field"> <input type="file" name="files[]" onchange="upload_files(this)" id="'+s+'"> <button class="ui red button" onclick="del_files(this,s)">删除附件</button> </div>');return $(this).parent(".field").after(e),!1})}),$(function(){$("#login_form").form({on:"blur",fields:{email:{identifier:"email",rules:[{type:"empty",prompt:"请输入邮箱"},{type:"email",prompt:"邮箱格式不正确"}]},password:{identifier:"password",rules:[{type:"empty",prompt:"请输入密码"},{type:"length[6]",prompt:"密码至少6位"}]}},onSuccess:function(){return login(),!1}})}),function(e){initMenu()}(jQuery),$(function(){$("#project_search").search({source:window.projectNames,searchFullText:!0}),$("#project_create_form").form({fields:{started:{identifier:"started",rules:[{type:"empty",prompt:"请选择启动时间"}]},name:{identifier:"name",rules:[{type:"empty",prompt:"请填写项目名称"}]},bussiness_user:{identifier:"bussiness_user",rules:[{type:"empty",prompt:"请选择业务担当"}]},art_user:{identifier:"art_user",rules:[{type:"empty",prompt:"请选择美术单元"}]},tech_user:{identifier:"tech_user",rules:[{type:"empty",prompt:"请选择技术单元"}]}},onSuccess:function(){return $.ajax({url:"/project/create",data:new FormData($("#project_create_form")[0]),async:!1,cache:!1,contentType:!1,processData:!1,type:"post",success:function(e){e&&0!=e.result?$(".ui.error.message").html(e.error):e.id?($(".ui.error.message").html(""),window.location.href="/project/list"):$(".ui.error.message").html("未知错误")}}),!1}})}),$(function(){$(".ui.form.user").form({on:"blur",fields:{company:{identifier:"company",rules:[{type:"empty",prompt:"请选择公司名称"}]},role:{identifier:"role",rules:[{type:"empty",prompt:"请选择角色"}]},name:{identifier:"name",rules:[{type:"empty",prompt:"请用户名称"}]},email:{identifier:"email",rules:[{type:"empty",prompt:"请输入邮箱"},{type:"email",prompt:"邮箱格式不正确"}]}},onSuccess:function(){return createUser(),!1}}),$(".ui.form.user-edit").form({on:"blur",fields:{company:{identifier:"company",rules:[{type:"empty",prompt:"请选择公司名称"}]},role:{identifier:"role",rules:[{type:"empty",prompt:"请选择角色"}]},name:{identifier:"name",rules:[{type:"empty",prompt:"请用户名称"}]},email:{identifier:"email",rules:[{type:"empty",prompt:"请输入邮箱"},{type:"email",prompt:"邮箱格式不正确"}]}},onSuccess:function(){return editUser(),!1}})}),$(function(){function e(){return 1==$('#valid_form input:radio[name="result"]:checked').val()}function t(e){if(-1!=e.indexOf("T"))return new Date(e);var t=e.split(" ").join("T");return new Date(t)}$.fn.form.settings.rules.finishTime=function(r){if(!e())return!0;if(""==r)return!0;var n=t($("#job_required_finish_time").val()),i=t(r)<=n;return i},$.fn.form.settings.rules.validTime=function(t){return e()&&""===$(".ui.form .datetimepicker").val()?!1:!0},$("#valid_form").form({fields:{result:{identifier:"result",rules:[{type:"checked",prompt:"审核结果不能为空"}]},finish_time:{identifier:"finish_time",rules:[{type:"validTime",prompt:"任务完成时间不能为空"},{type:"finishTime",prompt:"要求完成时间必须早于验收时间"}]}},onSuccess:function(){return jobValid(),!1}})});